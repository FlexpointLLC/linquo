<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Embed Demo - Static HTML</title>
    
    <!-- THE EXACT SAME EMBED CODE THAT WORKS EVERYWHERE -->
    <script id="linquo" async="true" src="http://localhost:3000/widget.js?id=ad56884b-d717-4004-87c6-089aaca40bd0"></script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: white;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            text-align: center;
        }
        
        .hero {
            padding: 60px 0;
        }
        
        .hero h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .hero p {
            font-size: 1.2rem;
            opacity: 0.9;
            max-width: 600px;
            margin: 0 auto 2rem;
        }
        
        .embed-code {
            background: rgba(0, 0, 0, 0.8);
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            text-align: left;
            margin: 30px 0;
            word-break: break-all;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 50px 0;
        }
        
        .feature {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .feature h3 {
            margin-bottom: 15px;
            font-size: 1.3rem;
        }
        
        .status {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
            background: #fbbf24;
            animation: pulse 2s infinite;
        }
        
        .status-success { background: #4ade80; animation: none; }
        .status-error { background: #ef4444; animation: none; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        
        .platforms {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 30px 0;
        }
        
        .platform {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }
        
        .platform.supported {
            background: rgba(74, 222, 128, 0.2);
            border: 1px solid rgba(74, 222, 128, 0.3);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="hero">
            <h1>üåç Universal Embed Demo</h1>
            <p>This static HTML page uses the exact same embed code that works in React, Next.js, Framer, Webflow, and everywhere else!</p>
            
            <div class="status">
                <h3>Widget Status</h3>
                <p id="widget-status">
                    <span id="status-indicator" class="status-indicator"></span>
                    <span id="status-text">Initializing...</span>
                </p>
                <p>Organization: ad56884b-d717-4004-87c6-089aaca40bd0</p>
            </div>
        </div>
        
        <div class="embed-code">
            <strong>THE UNIVERSAL EMBED CODE:</strong><br><br>
            &lt;script id="linquo" async="true" src="http://localhost:3000/widget.js?id=ad56884b-d717-4004-87c6-089aaca40bd0"&gt;&lt;/script&gt;
        </div>
        
        <div class="features">
            <div class="feature">
                <h3>‚úÖ One Code, All Platforms</h3>
                <p>The same exact script tag works everywhere - no platform-specific modifications needed!</p>
            </div>
            
            <div class="feature">
                <h3>üöÄ Smart Detection</h3>
                <p>Automatically detects the environment and adapts accordingly for maximum compatibility.</p>
            </div>
            
            <div class="feature">
                <h3>üé® Auto Brand Colors</h3>
                <p>Fetches your organization's brand color automatically for consistent branding.</p>
            </div>
            
            <div class="feature">
                <h3>üì± Responsive Design</h3>
                <p>Works perfectly on desktop, tablet, and mobile devices with adaptive sizing.</p>
            </div>
        </div>
        
        <h2>üåê Supported Platforms</h2>
        <div class="platforms">
            <div class="platform supported">‚úÖ Static HTML</div>
            <div class="platform supported">‚úÖ React</div>
            <div class="platform supported">‚úÖ Next.js</div>
            <div class="platform supported">‚úÖ Framer</div>
            <div class="platform supported">‚úÖ Webflow</div>
            <div class="platform supported">‚úÖ WordPress</div>
            <div class="platform supported">‚úÖ Shopify</div>
            <div class="platform supported">‚úÖ Squarespace</div>
        </div>
        
        <div class="status">
            <h3>üéØ How It Works</h3>
            <p>The widget uses advanced script detection that works in all environments:</p>
            <ul style="text-align: left; max-width: 600px; margin: 0 auto;">
                <li><strong>Static HTML/Framer/Webflow:</strong> Uses document.currentScript</li>
                <li><strong>React/Next.js:</strong> Searches for script by ID and src</li>
                <li><strong>Server-Side Rendering:</strong> Handles SSR gracefully</li>
                <li><strong>Dynamic Loading:</strong> Works with async script injection</li>
                <li><strong>Multiple Fallbacks:</strong> 5 different detection methods</li>
            </ul>
        </div>
    </div>

    <script>
        // Monitor widget loading
        function updateStatus(status, text) {
            const indicator = document.getElementById('status-indicator');
            const statusText = document.getElementById('status-text');
            
            indicator.className = `status-indicator status-${status}`;
            statusText.textContent = text;
        }
        
        // Check for widget loading
        let checkCount = 0;
        const maxChecks = 50; // 25 seconds max
        
        const checkInterval = setInterval(() => {
            checkCount++;
            
            if (window.LinquoWidget) {
                if (window.LinquoWidget.isLoaded()) {
                    updateStatus('success', 'Widget Loaded Successfully! üéâ');
                    clearInterval(checkInterval);
                    
                    // Log success info
                    console.log('‚úÖ Universal embed code working!');
                    console.log('üìä Widget info:', {
                        orgId: window.LinquoWidget.orgId,
                        brandColor: window.LinquoWidget.brandColor,
                        version: window.LinquoWidget.version
                    });
                } else if (checkCount > 10) {
                    updateStatus('error', 'Widget API available but not loaded');
                }
            } else if (checkCount >= maxChecks) {
                updateStatus('error', 'Widget failed to load after 25 seconds');
                clearInterval(checkInterval);
            } else if (checkCount > 5) {
                updateStatus('loading', `Loading... (${checkCount}/50)`);
            }
        }, 500);
        
        // Initial status
        updateStatus('loading', 'Loading widget...');
        
        // Log page load
        console.log('üåç Universal Embed Demo - Static HTML');
        console.log('üìù Using embed code: <script id="linquo" async="true" src="http://localhost:3000/widget.js?id=ad56884b-d717-4004-87c6-089aaca40bd0"></script>');
    </script>
</body>
</html>
